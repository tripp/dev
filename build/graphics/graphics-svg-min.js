YUI.add("graphics-svg",function(a){var b="_yuid",c="nodeName",g=a.DOM.setStyle,h=a.Node.prototype.addClass,d=a.Node.prototype.toString,i=a.NodeList.prototype.toString;a.DOM.setStyle=function(n,q,k,j){if((q=="left"||q=="top")&&n.tagName.indexOf("svg")>-1){var p=n.tagName.split(":")[1],m,l,s,r,o;if(p=="path"){if(q=="left"){s=parseInt(k,10);r=n.getAttribute("y");n.setAttribute("x",s);}else{if(q=="top"){s=n.getAttribute("x");r=parseInt(k,10);n.setAttribute("y",r);}}m="translate("+s+", "+r+")";l=n.getAttribute("transform");if(l&&l.length>0){if(l.indexOf("translate")>-1){l=l.replace(/translate\(.*\)/,m);}else{l+=" "+m;}}else{l=m;}n.setAttribute("transform",l);}else{switch(p){case"rect":o=(q=="left")?"x":"y";break;case"circle":case"ellipse":o=(q=="left")?"cx":"cy";break;}n.setAttribute(o,parseInt(k,10));}}g.apply(this,arguments);};a.Node.prototype.addClass=function(j){var k=this._node;if(k.tagName.indexOf("svg")>-1){if(k.className&&k.className.baseVal){k.className.baseVal=a.Lang.trim([k.className.baseVal,j].join(" "));}else{k.setAttribute("class",j);}}else{h.apply(this,arguments);}return this;};a.Node.prototype.toString=function(){var j=this._node,k;if(j&&j.className&&j.className.baseVal){if(typeof j.className.baseVal=="string"){k=j[c]+"."+j.className.baseVal.replace(" ",".");}else{k=this[b]+": not bound to any nodes";}}else{k=d.apply(this,arguments);}return k;};a.NodeList.prototype.toString=function(){var j=this._nodes,k,l;if(j&&j[0]){k=j[0];}if(k&&k.className&&k.className.baseVal){if(typeof k.className.baseVal=="string"){l=k[c];if(k.id){l+="#"+k.id;}l+="."+k.className.baseVal.replace(" ",".");}else{l=this[b]+": not bound to any nodes";}}else{l=i.apply(this,arguments);}return l;};a.NodeList.importMethod(a.Node.prototype,["addClass"]);function e(){}e.prototype={curveTo:function(o,m,t,s,r,q){var k,p,n,j,l,u;if(this._pathType!=="C"){this._pathType="C";p=["C"];this._pathArray.push(p);}else{p=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!p){p=[];this._pathArray.push(p);}}k=this._pathArray.length-1;this._pathArray[k]=this._pathArray[k].concat([Math.round(o),Math.round(m),Math.round(t),Math.round(s),r,q]);n=Math.max(r,Math.max(o,t));l=Math.max(q,Math.max(m,s));j=Math.min(r,Math.min(o,t));u=Math.min(q,Math.min(m,s));this._trackSize(n,l);this._trackSize(j,u);},quadraticCurveTo:function(o,n,r,q){var k,p,m,j,l,s;if(this._pathType!=="Q"){this._pathType="Q";p=["Q"];this._pathArray.push(p);}else{p=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!p){p=[];this._pathArray.push(p);}}k=this._pathArray.length-1;this._pathArray[k]=this._pathArray[k].concat([Math.round(o),Math.round(n),Math.round(r),Math.round(q)]);m=Math.max(r,o);l=Math.max(q,n);j=Math.min(r,o);s=Math.min(q,n);this._trackSize(m,l);this._trackSize(j,s);},drawRect:function(j,m,k,l){this.moveTo(j,m);this.lineTo(j+k,m);this.lineTo(j+k,m+l);this.lineTo(j,m+l);this.lineTo(j,m);},drawRoundRect:function(j,o,k,m,l,n){this.moveTo(j,o+n);this.lineTo(j,o+m-n);this.quadraticCurveTo(j,o+m,j+l,o+m);this.lineTo(j+k-l,o+m);this.quadraticCurveTo(j+k,o+m,j+k,o+m-n);this.lineTo(j+k,o+n);this.quadraticCurveTo(j+k,o,j+k-l,o);this.lineTo(j+l,o);this.quadraticCurveTo(j,o,j,o+n);},drawWedge:function(l,o,n,m,k,j){this._drawingComplete=false;this.path=this._getWedgePath({x:l,y:o,startAngle:n,arc:m,radius:k,yRadius:j});},_getWedgePath:function(F){var t=F.x,q=F.y,A=F.startAngle,p=F.arc,l=F.radius,m=F.yRadius||l,z,v,o,E,n,u,s,D,C,k,j,B=0,r=l*2,w=" M"+t+", "+q;if(Math.abs(p)>360){p=360;}z=Math.ceil(Math.abs(p)/45);v=p/z;o=-(v/180)*Math.PI;E=(A/180)*Math.PI;if(z>0){u=t+Math.cos(A/180*Math.PI)*l;s=q+Math.sin(A/180*Math.PI)*m;w+=" L"+Math.round(u)+", "+Math.round(s);w+=" Q";for(;B<z;++B){E+=o;n=E-(o/2);D=t+Math.cos(E)*l;C=q+Math.sin(E)*m;k=t+Math.cos(n)*(l/Math.cos(o/2));j=q+Math.sin(n)*(m/Math.cos(o/2));w+=Math.round(k)+" "+Math.round(j)+" "+Math.round(D)+" "+Math.round(C)+" ";}w+=" L"+t+", "+q;}this._trackSize(r,r);return w;},lineTo:function(o,n,l){var k=arguments,m,j,q,p;this._pathArray=this._pathArray||[];if(typeof o==="string"||typeof o==="number"){k=[[o,n]];}j=k.length;this._shapeType="path";if(this._pathType!=="L"){this._pathType="L";p=["L"];this._pathArray.push(p);}else{p=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!p){p=[];this._pathArray.push(p);}}q=this._pathArray.length-1;for(m=0;m<j;++m){this._pathArray[q]=this._pathArray[q].concat([k[m][0],k[m][1]]);this._trackSize.apply(this,k[m]);}},moveTo:function(j,m){var l,k;this._pathArray=this._pathArray||[];if(this._pathType!="M"){this._pathType="M";k=["M"];this._pathArray.push(k);}else{k=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!k){k=[];this._pathArray.push(k);}}l=this._pathArray.length-1;this._pathArray[l]=this._pathArray[l].concat([j,m]);this._trackSize(j,m);},end:function(){this._draw();},setSize:function(j,k){var l;if(this.get("autoSize")){l=this.get("node");if(j>l.getAttribute("width")){l.setAttribute("width",j);}if(k>l.getAttribute("height")){l.setAttribute("height",k);}}},_trackSize:function(j,k){var l=this.get("node");if(j>this._right){this._right=j;}if(j<this._left){this._left=j;}if(k<this._top){this._top=k;}if(k>this._bottom){this._bottom=k;}this._width=this._right-this._left;this._height=this._bottom-this._top;l.style.left=this._left+"px";l.style.top=this._top+"px";this.setSize(this._width,this._height);}};a.Drawing=e;a.Shape=a.Base.create("shape",a.Base,[],{initializer:function(){this._addListeners();this._draw();},_getNode:function(){var k=document.createElementNS("http://www.w3.org/2000/svg","svg:"+this._type),j=this.get("pointerEvents")||"none";k.setAttribute("pointer-events",j);return k;},_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("widthChange",this._updateHandler);this.after("heightChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_strokeChangeHandler:function(p){var l=this.get("node"),q=this.get("stroke"),r,k,n,m,o,j;if(q&&q.weight&&q.weight>0){r=q.alpha;
k=q.dashstyle||"none";n=a.Lang.isArray(k)?k.toString():k;q.color=q.color||"#000000";q.weight=q.weight||1;q.alpha=a.Lang.isNumber(r)?r:1;q.linecap=q.linecap||"butt";l.setAttribute("stroke-dasharray",n);l.setAttribute("stroke",q.color);l.setAttribute("stroke-linecap",q.linecap);l.setAttribute("stroke-width",q.weight);l.setAttribute("stroke-opacity",q.alpha);}else{l.setAttribute("stroke","none");}},_fillChangeHandler:function(m){var k=this.get("node"),l=this.get("fill"),j;if(l){if(l.type==="linear"||l.type==="radial"){this.beginGradientFill(l);}else{if(l.type==="bitmap"){this.beginBitmapFill(l);}else{if(!l.color){k.setAttribute("fill","none");}else{j=l.alpha;l.alpha=a.Lang.isNumber(j)?j:1;k.setAttribute("fill",l.color);k.setAttribute("fill-opacity",j);}}}}else{k.setAttribute("fill","none");}},translate:function(j,k){this._translate.apply(this,arguments);},_translate:function(j,n){var l=this.get("node"),m="translate("+j+", "+n+")",k=l.getAttribute("transform");this._updateTransform("translate",/translate\(.*\)/,m);},skewX:function(j){var k="skewX("+j+")";this._updateTransform("skewX",/skewX\(.*\)/,k);},skewY:function(k){var j="skewY("+k+")";this._updateTransform("skewY",/skewY\(.*\)/,j);},rotate:function(k,l){var j="rotate("+k+")";this._updateTransform("rotate",/rotate\(.*\)/,j);},scale:function(k){var j="scale("+k+")";this._updateTransform("scale",/scale\(.*\)/,j);},matrix:function(k,j,p,o,n,m){var l="matrix("+k+", "+j+", "+p+", "+o+", "+n+", "+m+")";this._updateTransform("matrix",/matrix\(.*\)/,l);},_updateTransform:function(k,n,m){var l=this.get("node"),j=l.getAttribute("transform");if(j&&j.length>0){if(j.indexOf(k)>-1){j=j.replace(n,m);}else{j+=" "+m;}}else{j=m;}l.setAttribute("transform",j);},_draw:function(){var j=this.get("node");j.setAttribute("width",this.get("width"));j.setAttribute("height",this.get("height"));j.style.left=this.get("x")+"px";j.style.top=this.get("y")+"px";this._fillChangeHandler();this._strokeChangeHandler();},_updateHandler:function(j){this._draw();},_translateX:0,_translateY:0},{ATTRS:{node:{readOnly:true,valueFn:"_getNode"},x:{},y:{},width:{},height:{},visible:{value:true,setter:function(k){var j=k?"visible":"hidden";this.get("node").style.visibility=j;return k;}},fill:{setter:function(k){var j=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(k)?a.merge(j,k):null;}},stroke:{valueFn:function(){return{weight:1,dashstyle:null,color:"#000",alpha:1};},setter:function(k){var j=this.get("stroke")||this._getAttrCfg("stroke").defaultValue;return(k)?a.merge(j,k):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},translateX:{getter:function(){return this._translateX;},setter:function(j){this.transform(j,this.get("translateY"));return j;}},translateY:{getter:function(){return this._translateY;},setter:function(j){this.transform(this.get("translateX"),j);return j;}}}});a.Path=a.Base.create("path",a.Shape,[a.Drawing],{_left:0,_right:0,_top:0,_bottom:0,_type:"path",_draw:function(){var k=this._pathArray,q,j,t,l,s,r,v=this.get("path"),n=this.get("node"),p=this.get("translateX"),o=this.get("translateY"),m=this._left,u=this._top;while(k&&k.length>0){q=k.shift();t=q.length;j=q[0];v+=" "+j+(q[1]-m);switch(j){case"L":case"M":for(r=2;r<t;++r){l=(r%2===0)?u:m;l=q[r]-l;v+=", "+l;}break;case"Q":case"C":for(r=2;r<t;++r){l=(r%2===0)?u:m;s=q[r];s-=l;v+=" "+s;}break;}}if(this._fill){v+="z";}n.setAttribute("d",v);this._translate(m+p,u+o);this.set("path",v);this._fillChangeHandler();this._strokeChangeHandler();},translate:function(j,l){var k=this.get("node");this._translateX=j;this._translateY=l;this._translate(this._left+j,this._top+l);},end:function(){this._draw();},clear:function(){this.set("path","");}},{ATTRS:{path:{value:""}}});a.Rect=a.Base.create("rect",a.Shape,[],{_type:"rect"});a.Ellipse=a.Base.create("ellipse",a.Shape,[],{_type:"ellipse",_draw:function(){var j=this.get("node"),r=this.get("width"),m=this.get("height"),q=this.get("x"),o=this.get("y"),p=r*0.5,n=m*0.5,l=q+p,k=o+n;j.setAttribute("rx",p);j.setAttribute("ry",n);j.setAttribute("cx",l);j.setAttribute("cy",k);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{xRadius:{readOnly:true,getter:function(){var j=this.get("width");if(j){j*=0.5;}return j;}},yRadius:{readOnly:true,getter:function(){var j=this.get("height");if(j){j*=0.5;}return j;}},x:{lazyAdd:false,value:0},y:{lazyAdd:false}}});a.Circle=a.Base.create("circle",a.Shape,[],{_type:"circle",_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("radiusChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_draw:function(){var m=this.get("node"),l=this.get("x"),o=this.get("y"),k=this.get("radius"),j=l+k,n=o+k;m.setAttribute("r",k);m.setAttribute("cx",j);m.setAttribute("cy",n);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{width:{readOnly:true,getter:function(){return this.get("radius")*2;}},height:{readOnly:true,getter:function(){return this.get("radius")*2;}},radius:{lazyAdd:false,setter:function(k){var j=this.get("node");j.setAttribute("r",k);return k;}}}});function f(j){this.initializer.apply(this,arguments);}f.prototype={autoSize:true,initializer:function(k){k=k||{};var j=k.width||0,l=k.height||0;this.node=this._createGraphics();this.setSize(j,l);if(k.render){this.render(k.render);}},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(j){if(j.hasChildNodes()){var k;while(j.firstChild){k=j.firstChild;this._removeChildren(k);j.removeChild(k);}}},toggleVisible:function(j){this._toggleVisible(this.node,j);},_toggleVisible:function(n,o){var m=a.Selector.query(">/*",n),k=o?"visible":"hidden",l=0,j;if(m){j=m.length;for(;l<j;++l){this._toggleVisible(m[l],o);}}n.style.visibility=k;},clear:function(){if(this._graphicsList){while(this._graphicsList.length>0){this.node.removeChild(this._graphicsList.shift());
}}},setSize:function(j,k){if(this.autoSize){if(j>this.node.getAttribute("width")){this.node.setAttribute("width",j);}if(k>this.node.getAttribute("height")){this.node.setAttribute("height",k);}}},_trackSize:function(j,k){if(j>this._right){this._right=j;}if(j<this._left){this._left=j;}if(k<this._top){this._top=k;}if(k>this._bottom){this._bottom=k;}this._width=this._right-this._left;this._height=this._bottom-this._top;this.node.style.left=this._left+"px";this.node.style.top=this._top+"px";this.setSize(this._width,this._height);},render:function(m){var j=a.one(m),k=j.get("width")||j.get("offsetWidth"),l=j.get("height")||j.get("offsetHeight");j=j||a.config.doc.body;j.appendChild(this.node);this.setSize(k,l);return this;},_createGraphics:function(){var j=this._createGraphicNode("svg");this._styleGroup(j);return j;},_styleGroup:function(j){j.style.position="absolute";j.style.top="0px";j.style.left="0px";j.style.overflow="auto";j.setAttribute("overflow","auto");j.setAttribute("pointer-events","none");},_createGraphicNode:function(l,j){var m=document.createElementNS("http://www.w3.org/2000/svg","svg:"+l),k=j||"none";if(l!=="defs"&&l!=="stop"&&l!=="linearGradient"){m.setAttribute("pointer-events",k);}return m;},addShape:function(j){var k=j.get("node");this.node.appendChild(k);if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(k);}};a.Graphic=f;},"@VERSION@",{skinnable:false,requires:["graphics"]});