YUI.add("graphics-vml",function(d){var b=document.createStyleSheet();b.addRule(".vmlgroup","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlgroup","display:inline-block",b.rules.length);b.addRule(".vmlgroup","zoom:1",b.rules.length);b.addRule(".vmlshape","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlshape","display:inline-block",b.rules.length);b.addRule(".vmloval","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmloval","display:inline-block",b.rules.length);b.addRule(".vmlrect","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlrect","display:block",b.rules.length);b.addRule(".vmlfill","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlstroke","behavior:url(#default#VML)",b.rules.length);function a(){}a.prototype={_currentX:0,_currentY:0,curveTo:function(h,g,m,l,k,j){var i,e,f,n;k=Math.round(k);j=Math.round(j);this._path+=" c "+Math.round(h)+", "+Math.round(g)+", "+Math.round(m)+", "+Math.round(l)+", "+k+", "+j;this._currentX=k;this._currentY=j;i=Math.max(k,Math.max(h,m));f=Math.max(j,Math.max(g,l));e=Math.min(k,Math.min(h,m));n=Math.min(j,Math.min(g,l));this._trackSize(i,f);this._trackSize(e,n);},quadraticCurveTo:function(j,i,l,k){var f=this._currentX,e=this._currentY,h=f+0.67*(j-f),g=e+0.67*(i-e),n=h+(l-f)*0.34,m=g+(k-e)*0.34;this.curveTo(h,g,n,m,l,k);},drawRect:function(e,i,f,g){this.moveTo(e,i);this.lineTo(e+f,i);this.lineTo(e+f,i+g);this.lineTo(e,i+g);this.lineTo(e,i);this._currentX=e;this._currentY=i;return this;},drawRoundRect:function(e,k,f,i,g,j){this.moveTo(e,k+j);this.lineTo(e,k+i-j);this.quadraticCurveTo(e,k+i,e+g,k+i);this.lineTo(e+f-g,k+i);this.quadraticCurveTo(e+f,k+i,e+f,k+i-j);this.lineTo(e+f,k+j);this.quadraticCurveTo(e+f,k,e+f-g,k);this.lineTo(e+g,k);this.quadraticCurveTo(e,k,e,k+j);return this;},drawWedge:function(g,k,i,h,f,e){var j=f*2;e=e||f;this._path+=this._getWedgePath({x:g,y:k,startAngle:i,arc:h,radius:f,yRadius:e});this._trackSize(j,j);this._currentX=g;this._currentY=k;return this;},_getWedgePath:function(h){var g=h.x,l=h.y,j=h.startAngle,i=h.arc,f=h.radius,e=h.yRadius||f,k;if(Math.abs(i)>360){i=360;}j*=-65535;i*=65536;k=" m "+g+" "+l+" ae "+g+" "+l+" "+f+" "+e+" "+j+" "+i;return k;},end:function(){this._draw();},lineTo:function(k,j,g){var f=arguments,h,e;if(typeof k==="string"||typeof k==="number"){f=[[k,j]];}e=f.length;if(!this._path){this._path="";}this._path+=" l ";for(h=0;h<e;++h){this._path+=" "+Math.round(f[h][0])+", "+Math.round(f[h][1]);this._trackSize.apply(this,f[h]);this._currentX=f[h][0];this._currentY=f[h][1];}return this;},moveTo:function(e,f){if(!this._path){this._path="";}this._path+=" m "+Math.round(e)+", "+Math.round(f);this._trackSize(e,f);this._currentX=e;this._currentY=f;},_trackSize:function(e,g){var i=this._width||0,f=this._height||0;if(e>i){this._width=e;}if(g>f){this._height=g;}}};d.Drawing=a;d.Shape=d.Base.create("shape",d.Base,[],{initializer:function(){this.publish("shapeUpdate");this._addListeners();this._draw();this.fire("shapeUpdate");},addClass:function(e){var f=d.one(this.get("node"));f.addClass(e);},removeClass:function(e){var f=d.one(this.get("node"));f.removeClass(e);},getXY:function(){var h=this.get("graphic"),f=h.getXY(),e=this.get("x"),g=this.get("y");return[f[0]+e,f[1]+g];},setXY:function(f){var g=this.get("graphic"),e=g.getXY();this.set("x",f[0]-e[0]);this.set("y",f[1]-e[1]);},contains:function(e){return e===this;},test:function(e){return d.one(this.get("node")).test(e);},_getNode:function(){var e=this._createGraphicNode(),f=this.get("id");e.setAttribute("id",f);f="#"+f;d.one(e).addClass("yui3-"+this.name);d.on("mousedown",d.bind(this._nodeEventDispatcher,this),f);d.on("mouseup",d.bind(this._nodeEventDispatcher,this),f);d.on("mouseover",d.bind(this._nodeEventDispatcher,this),f);d.on("mousemove",d.bind(this._nodeEventDispatcher,this),f);d.on("mouseenter",d.bind(this._nodeEventDispatcher,this),f);d.on("mouseleave",d.bind(this._nodeEventDispatcher,this),f);d.on("click",d.bind(this._nodeEventDispatcher,this),f);return e;},_nodeEventDispatcher:function(f){f.preventDefault();this.fire(f.type,f);},_addListeners:function(){this.after("initializedChange",this._updateHandler);this.after("transformAdded",this._updateHandler);this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("widthChange",this._updateHandler);this.after("heightChange",this._updateHandler);this.after("xChange",this._updateHandler);this.after("yChange",this._updateHandler);},_strokeChangeHandler:function(n){var h=this.get("node"),q=this.get("stroke"),r,g,l="",f,j,k=0,m,p=q.linecap||"flat",o=q.linejoin||"round";if(q&&q.weight&&q.weight>0){if(p!="round"&&p!="square"){p="flat";}r=q.alpha;g=q.dashstyle||"none";q.color=q.color||"#000000";q.weight=q.weight||1;q.alpha=d.Lang.isNumber(r)?r:1;h.stroked=true;h.endcap=j;h.strokeColor=q.color;h.strokeWeight=q.weight+"px";if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");h.appendChild(this._strokeNode);}this._strokeNode.endcap=p;this._strokeNode.opacity=q.alpha;if(d.Lang.isArray(g)){l=[];m=g.length;for(k=0;k<m;++k){f=g[k];l[k]=f/q.weight;}}if(o=="round"||o=="bevel"){this._strokeNode.joinstyle=o;}else{o=parseInt(o,10);if(d.Lang.isNumber(o)){this._strokeNode.miterlimit=Math.max(o,1);this._strokeNode.joinstyle="miter";}}this._strokeNode.dashstyle=l;}else{h.stroked=false;}},_fillChangeHandler:function(j){var g=this.get("node"),i=this.get("fill"),f,h=false;if(i){if(i.type=="radial"||i.type=="linear"){h=true;this._setGradientFill(g,i);}else{if(i.color){f=i.alpha;h=true;if(d.Lang.isNumber(f)){f=Math.max(Math.min(f,1),0);this._updateFillNode(g);i.alpha=f;this._fillNode.opacity=f;this._fillNode.color=i.color;}else{if(this._fillNode){g.removeChild(this._fillNode);this._fillNode=null;}g.fillColor=i.color;}}}}g.filled=h;},_updateFillNode:function(e){if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");e.appendChild(this._fillNode);}},_setGradientFill:function(x,B){this._updateFillNode(x);var q,o,n=B.type,s=this.get("width"),E=this.get("height"),t=d.Lang.isNumber,z,p=B.stops,D=p.length,l,A,C=0,u,e="",j=B.cx,f=B.cy,k=B.fx,g=B.fy,v=B.r,m,y=B.rotation||0;
if(n==="linear"){if(y>0&&y<=90){y=450-y;}else{if(y<=270){y=270-y;}else{if(y<=360){y=630-y;}else{y=270;}}}this._fillNode.type="gradient";this._fillNode.angle=y;}else{if(n==="radial"){q=s*(v*2);o=E*(v*2);k=v*2*(k-0.5);g=v*2*(g-0.5);k+=j;g+=f;this._fillNode.focussize=(q/s)/10+"% "+(o/E)/10+"%";this._fillNode.alignshape=false;this._fillNode.type="gradientradial";this._fillNode.focus="100%";this._fillNode.focusposition=Math.round(k*100)+"% "+Math.round(g*100)+"%";}}for(;C<D;++C){z=p[C];A=z.color;l=z.opacity;l=t(l)?l:1;m=z.offset||C/(D-1);m*=(v*2);if(m<=1){m=Math.round(100*m)+"%";u=C>0?C+1:"";this._fillNode["opacity"+u]=l+"";e+=", "+m+" "+A;}}m=p[1].offset||0;m*=100;if(parseInt(m,10)<100){e+=", 100% "+A;}this._fillNode.colors=e.substr(2);},_addTransform:function(f,e){if(!this._transformArgs){this._transformArgs={};}this._transformArgs[f]=Array.prototype.slice.call(e,0);this.fire("transformAdded");},_updateTransform:function(){var g=this.get("node"),r=this.get("width"),m=this.get("height"),q,p,s=g.coordSize,j,l,i,v,u,k,n,t,f,e,o;if(this._transformArgs){if(this._transformArgs.hasOwnProperty("translate")){q=0-(s.x/r*this._translateX);p=0-(s.y/m*this._translateY);g.coordOrigin=q+","+p;}if(this._transformArgs.hasOwnProperty("rotate")){j=this.get("transformOrigin");l=j[0];i=j[1];v=r*(l-0.5);u=m*(i-0.5);k=Math.abs(this._rotation);n=Math.PI/180;t=parseFloat(parseFloat(Math.sin(k*n)).toFixed(8));f=parseFloat(parseFloat(Math.cos(k*n)).toFixed(8));e=(v*f)-(u*t);o=(v*t)+(u*f);g.style.rotation=this._rotation;g.style.left=(this.get("x")+(v-e))+"px";g.style.top=(this.get("y")+(u-o))+"px";}}},translate:function(e,f){this._translateX=e;this._translateY=f;this._addTransform("translate",arguments);},skewX:function(e){},skewY:function(e){},_rotation:0,rotate:function(e){this._rotation=e;this._addTransform("rotate",arguments);},scale:function(e){},matrix:function(h,g,l,k,j,i){},_draw:function(){var i=this.get("node"),e=this.get("x"),j=this.get("y"),f=this.get("width"),g=this.get("height");i.style.position="absolute";i.style.left=e+"px";i.style.top=j+"px";i.style.width=f+"px";i.style.height=g+"px";this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform();},_updateHandler:function(g){var f=this.get("node");f.style.visible="hidden";this._draw();this.fire("shapeUpdate");f.style.visible="visible";},_createGraphicNode:function(e){e=e||this._type;return document.createElement("<"+e+' xmlns="urn:schemas-microsft.com:vml" class="vml'+e+'"/>');},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5};},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",alpha:1};},getBounds:function(){var g=this.get("width"),i=this.get("height"),k=this.get("stroke"),f=this.get("x"),l=this.get("y"),e=0,j={};if(k&&k.weight){e=k.weight;}j.left=f-e;j.top=l-e;j.right=f+g+e;j.bottom=l+i+e;return j;}},{ATTRS:{transformOrigin:{valueFn:function(){return[0.5,0.5];}},rotation:{setter:function(e){this.rotate(e);},getter:function(){return this._rotation;}},x:{value:0},y:{value:0},node:{readOnly:true,valueFn:"_getNode"},id:{valueFn:function(){return d.guid();},setter:function(f){var e=this.get("node");e.setAttribute("id",f);return f;}},width:{value:0},height:{value:0},visible:{value:true,setter:function(f){var e=f?"visible":"hidden";this.get("node").style.visibility=e;return f;}},fill:{valueFn:"_getDefaultFill",setter:function(g){var f,e=this.get("fill")||this._getDefaultFill();f=(g)?d.merge(e,g):null;if(f&&f.color){if(f.color===undefined||f.color=="none"){f.color=null;}}return f;}},stroke:{valueFn:"_getDefaultStroke",setter:function(f){var e=this.get("stroke")||this._getDefaultStroke();return(f)?d.merge(e,f):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},graphic:{setter:function(e){this.after("shapeUpdate",d.bind(e.updateSize,e));return e;}}}});d.Path=d.Base.create("path",d.Shape,[d.Drawing],{_type:"shape",_draw:function(){var l=this.get("fill"),k=this.get("stroke"),g=this.get("node"),e=this.get("width"),f=this.get("height"),j=this.get("path"),i="";g.style.visible="hidden";this._fillChangeHandler();this._strokeChangeHandler();if(j){if(l&&l.color){i+=" x";}if(k){i+=" e";}}if(j){g.path=j+i;}if(e&&f){g.coordSize=e+", "+f;g.style.position="absolute";g.style.width=e+"px";g.style.height=f+"px";}this.set("path",j);this.fire("shapeUpdate");g.style.visible="visible";},end:function(){this._draw();},clear:function(){this.set("path","");}},{ATTRS:{width:{getter:function(){return this._width;},setter:function(e){this._width=e;return e;}},height:{getter:function(){return this._height;},setter:function(e){this._height=e;return e;}},path:{getter:function(){return this._path;},setter:function(e){this._path=e;return e;}}}});d.Rect=d.Base.create("rect",d.Shape,[],{_type:"rect"});d.Ellipse=d.Base.create("ellipse",d.Shape,[],{_type:"oval"},{ATTRS:{xRadius:{lazyAdd:false,getter:function(){var e=this.get("width");e=Math.round((e/2)*100)/100;return e;},setter:function(f){var e=f*2;this.set("width",e);return f;}},yRadius:{lazyAdd:false,getter:function(){var e=this.get("height");e=Math.round((e/2)*100)/100;return e;},setter:function(f){var e=f*2;this.set("height",e);return f;}}}});d.Circle=d.Base.create("circle",d.Shape,[],{_type:"oval",_addListeners:function(){this.after("initializedChange",this._updateHandler);this.after("transformAdded",this._updateHandler);this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("radiusChange",this._updateHandler);this.after("xChange",this._updateHandler);this.after("yChange",this._updateHandler);}},{ATTRS:{radius:{lazyAdd:false,value:0},width:{readOnly:true,getter:function(){var e=this.get("radius"),f=e&&e>0?e*2:0;return f;}},height:{readOnly:true,getter:function(){var e=this.get("radius"),f=e&&e>0?e*2:0;return f;}}}});var c=function(e){this.initializer.apply(this,arguments);};c.prototype={getXY:function(){var e=d.one(this.node.parentNode),f=e.getXY();return f;},initializer:function(f){f=f||{};var e=f.width||0,g=f.height||0;
this.id=d.guid();this.node=this._createGraphic();this.node.setAttribute("id",this.id);this.setSize(e,g);this._initProps();},clear:function(){this._path="";this._removeChildren(this.node);},destroy:function(){this._removeChildren(this.node);this.node.parentNode.removeChild(this.node);},_removeChildren:function(e){if(e.hasChildNodes()){var f;while(e.firstChild){f=e.firstChild;this._removeChildren(f);e.removeChild(f);}}},toggleVisible:function(e){this._toggleVisible(this.node,e);},_toggleVisible:function(j,k){var h=d.one(j).get("children"),f=k?"visible":"hidden",g=0,e;if(h){e=h.length;for(;g<e;++g){this._toggleVisible(h[g],k);}}j.style.visibility=f;},setSize:function(e,f){e=Math.round(e);f=Math.round(f);this.node.style.width=e+"px";this.node.style.height=f+"px";this.node.coordSize=e+" "+f;this._canvasWidth=e;this._canvasHeight=f;},setPosition:function(e,f){e=Math.round(e);f=Math.round(f);this.node.style.left=e+"px";this.node.style.top=f+"px";},render:function(e){var f=parseInt(e.getComputedStyle("width"),10),g=parseInt(e.getComputedStyle("height"),10);e=e||d.config.doc.body;e.appendChild(this.node);this.setSize(f,g);this._initProps();return this;},_trackSize:function(e,f){if(e>this._width){this._width=e;}if(f>this._height){this._height=f;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeOpacity=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;this._dashstyle=null;},_createGraphic:function(){var e=this._createGraphicNode("group");e.style.display="block";e.style.position="absolute";return e;},_createGraphicNode:function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsft.com:vml" class="vml'+e+'"/>');},addShape:function(e){var f=e.get("node");e.set("graphic",this);this.node.appendChild(f);if(!this._graphicsList){this._graphicsList=[];}if(!this._shapes){this._shapes={};}this._graphicsList.push(f);this._shapes[e.get("id")]=e;},getShape:function(e){return this._shapes[e];},addChild:function(e){this.node.appendChild(e);},updateSize:function(o){var n,l=0,k,j=this._graphicsList,f=j.length,g,m;this._left=0;this._right=0;this._top=0;this._bottom=0;for(;l<f;++l){k=this.getShape(j[l].getAttribute("id"));n=k.getBounds();this._left=Math.min(this._left,n.left);this._top=Math.min(this._top,n.top);this._right=Math.max(this._right,n.right);this._bottom=Math.max(this._bottom,n.bottom);}g=this._width=this._right-this._left;m=this._height=this._bottom-this._top;this.setSize(this._width,this._height);},_left:0,_right:0,_top:0,_bottom:0};d.Graphic=c;},"@VERSION@",{requires:["dom","event-custom","base","graphics"],skinnable:false});