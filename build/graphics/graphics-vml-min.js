YUI.add("graphics-vml",function(E){var B=document.createStyleSheet();B.addRule(".vmlgroup","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlgroup","display:inline-block",B.rules.length);B.addRule(".vmlgroup","zoom:1",B.rules.length);B.addRule(".vmlshape","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlshape","display:inline-block",B.rules.length);B.addRule(".vmloval","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmloval","display:inline-block",B.rules.length);B.addRule(".vmlrect","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlrect","display:block",B.rules.length);B.addRule(".vmlfill","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlstroke","behavior:url(#default#VML)",B.rules.length);function A(){}A.prototype={curveTo:function(H,G,J,I,F,K){this._path+=" c "+Math.round(H)+", "+Math.round(G)+", "+Math.round(J)+", "+Math.round(I)+", "+F+", "+K;this._trackSize(F,K);},quadraticCurveTo:function(J,I,F,M){var H=Math.max(F,J),G=Math.max(M,I),L=Math.min(F,J),K=Math.min(M,I);this._path+=" qb "+J+", "+I+", "+F+", "+M;this._trackSize(H,G);this._trackSize(L,K);},drawRect:function(F,I,G,H){this.moveTo(F,I);this.lineTo(F+G,I);this.lineTo(F+G,I+H);this.lineTo(F,I+H);this.lineTo(F,I);},drawRoundRect:function(F,K,G,I,H,J){this.moveTo(F,K+J);this.lineTo(F,K+I-J);this.quadraticCurveTo(F,K+I,F+H,K+I);this.lineTo(F+G-H,K+I);this.quadraticCurveTo(F+G,K+I,F+G,K+I-J);this.lineTo(F+G,K+J);this.quadraticCurveTo(F+G,K,F+G-H,K);this.lineTo(F+H,K);this.quadraticCurveTo(F,K,F,K+J);},drawWedge:function(H,L,J,I,G,F){var K=G*2;F=F||G;this._path+=this._getWedgePath({x:H,y:L,startAngle:J,arc:I,radius:G,yRadius:F});this._trackSize(K,K);},_getWedgePath:function(I){var H=I.x,M=I.y,K=I.startAngle,J=I.arc,G=I.radius,F=I.yRadius||G,L;if(Math.abs(J)>360){J=360;}K*=-65535;J*=65536;L=" m "+H+" "+M+" ae "+H+" "+M+" "+G+" "+F+" "+K+" "+J;return L;},end:function(){this._draw();},lineTo:function(K,J,H){var G=arguments,I,F;if(typeof K==="string"||typeof K==="number"){G=[[K,J]];}F=G.length;if(!this._path){this._path="";}this._path+=" l ";for(I=0;I<F;++I){this._path+=" "+Math.round(G[I][0])+", "+Math.round(G[I][1]);this._trackSize.apply(this,G[I]);}return this;},moveTo:function(F,G){if(!this._path){this._path="";}this._path+=" m "+Math.round(F)+", "+Math.round(G);this._trackSize(F,G);},_trackSize:function(F,H){var I=this._width||0,G=this._height||0;if(F>I){this._width=F;}if(H>G){this._height=H;}}};E.Drawing=A;function C(){}C.prototype={beginGradientFill:function(H){var M=H.type,F=H.colors,G=H.alphas||[],K=H.ratios||[],P={colors:F,ratios:K},L=G.length,J=0,I,N,O=H.rotation||0;for(;J<L;++J){I=G[J];I=E.Lang.isNumber(I)?I:1;N=J>0?J+1:"";G[J]=Math.round(I*100)+"%";P["opacity"+N]=I;}if(M==="linear"){if(H){}if(O>0&&O<=90){O=450-O;}else{if(O<=270){O=270-O;}else{if(O<=360){O=630-O;}else{O=270;}}}P.type="gradientunscaled";P.angle=O;}else{if(M==="radial"){P.alignshape=false;P.type="gradientradial";P.focus="100%";P.focusposition="50%,50%";}}P.ratios=K||[];if(!isNaN(H.tx)||!isNaN(H.ty)||!isNaN(H.width)||!isNaN(H.height)){this._gradientBox={tx:H.tx,ty:H.ty,width:H.width,height:H.height};}else{this._gradientBox=null;}this._fillProps=P;},_getFill:function(){var S=this._createGraphicNode("fill"),Q=this._width,L=this._height,M=this._fillProps,G,R,J=0,F,P="",N,K,O=Math.sqrt(Math.pow(Q,2)+Math.pow(L,2)),I=50,H=50;if(this._gradientBox){I=Math.round((this._gradientBox.width/2-((this._x-this._gradientBox.tx)*O/Q))/(Q*Q/O)*100);H=Math.round((this._gradientBox.height/2-((this._y-this._gradientBox.ty)*O/L))/(L*L/O)*100);M.focussize=(this._gradientBox.width/Q)/10+" "+(this._gradientBox.height/L)/10;}if(M.colors){F=M.colors.concat();K=M.ratios.concat();N=F.length;for(;J<N;++J){R=K[J]||J/(N-1);R=Math.round(100*R)+"%";P+=", "+R+" "+F[J];}if(parseInt(R,10)<100){P+=", 100% "+F[N-1];}}for(G in M){if(M.hasOwnProperty(G)){S.setAttribute(G,M[G]);}}S.colors=P.substr(2);if(M.type==="gradientradial"){S.focusposition=I+"%,"+H+"%";}return S;}};E.Fill=C;E.Shape=E.Base.create("shape",E.Base,[E.Fill],{initializer:function(){this._addListeners();this._draw();},_getNode:function(){var F=this._createGraphicNode();return F;},_addListeners:function(){this.after("strokeChange",this._strokeChangeHandler);this.after("fillChange",this._fillChangeHandler);},_strokeChangeHandler:function(L){var J=this.get("node"),K=this.get("stroke"),H,G,I=0,F;if(K&&K.weight&&K.weight>0){H=K.alpha;G=K.dashstyle||"none";K.color=K.color||"#000000";K.weight=K.weight||1;K.alpha=E.Lang.isNumber(H)?H:1;J.setAttribute("stroked",true);J.setAttribute("strokeColor",K.color);J.setAttribute("strokeWeight",K.weight);if(K.alpha<1||(G&&G!="none")){if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");J.appendChild(this._strokeNode);}this._strokeNode.setAttribute("opacity",K.alpha);if(E.Lang.isArray(G)){F=G.length;for(;I>F;++I){G[I]=Math.round(G[I]/K.weight);}G=G.toString();G=G.replace(/, /g,",").replace(/,/g," ");}this._strokeNode.setAttribute("dashstyle",G);}}else{J.setAttribute("stroked",false);}},_fillChangeHandler:function(I){var G=this.get("node"),H=this.get("fill"),F;if(H){if(H.type==="linear"||H.type==="radial"){this.beginGradientFill(H);}else{if(H.type==="bitmap"){this.beginBitmapFill(H);}else{if(!H.color){G.setAttribute("fill","none");}else{F=H.alpha;H.alpha=E.Lang.isNumber(F)?F:1;G.setAttribute("fillColor",H.color);G.setAttribute("opacity",H.alpha);}}}}else{G.setAttribute("fill","none");G.setAttribute("filled",false);}},translate:function(F,G){},skewX:function(F){},skewY:function(F){},rotate:function(P,O){var T=this.get("node"),K=P,F=Math.abs(K),G=Math.PI/180,Q=parseFloat(parseFloat(Math.sin(F*G)).toFixed(8)),J=parseFloat(parseFloat(Math.cos(F*G)).toFixed(8)),X=J,W=K>0?-Q:Q,I=-W,H=X,S=this.get("width"),R=this.get("height"),N=S,U=0,M=parseInt(T.style.left,10)||T.getAttribute("x")||0,L=parseInt(T.style.top,10)||T.getAttribute("y")||0,V="";T.style.filter=null;if(K===0){N=S;U-=R*0.5;}else{if(F===90){N=R;U-=S*0.5;}else{if(K>0){N=(J*S)+(R*K/90);U-=(Q*S)+(J*(R*0.5));
}else{N=(J*S)+(F/90*R);U-=J*(R*0.5);}}}T.style.left=(M-N)+"px";T.style.top=(L+U)+"px";if(K!==0){V+="progid:DXImageTransform.Microsoft.Matrix(M11="+X+" M12="+W+" M21="+I+" M22="+H+' sizingMethod="auto expand")';}if(V){T.style.filter=V;}},scale:function(F){},matrix:function(G,F,K,J,I,H){},_draw:function(){var I=this.get("node"),F=this.get("x"),J=this.get("y"),G=this.get("width"),H=this.get("height");I.style.position="absolute";I.style.left=F+"px";I.style.top=J+"px";I.style.width=G+"px";I.style.height=H+"px";this._fillChangeHandler();this._strokeChangeHandler();},_createGraphicNode:function(F){F=F||this._type;return document.createElement("<"+F+' xmlns="urn:schemas-microsft.com:vml" class="vml'+F+'"/>');}},{ATTRS:{x:{value:0,setter:function(G){var F=this.get("node");F.style.left=G+"px";return G;}},y:{value:0,setter:function(G){var F=this.get("node");F.style.top=G+"px";return G;}},node:{readOnly:true,valueFn:"_getNode"},width:{value:0,setter:function(G){var F=this.get("node");F.setAttribute("width",G);F.style.width=G+"px";return G;}},height:{value:0,setter:function(G){var F=this.get("node");F.setAttribute("height",G);F.style.height=G+"px";return G;}},visible:{value:true,setter:function(G){var F=G?"visible":"hidden";this.get("node").style.visibility=F;return G;}},fill:{setter:function(G){var F=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(G)?E.merge(F,G):null;}},stroke:{valueFn:function(){return{weight:1,dashstyle:"none",color:"#000",alpha:1};},setter:function(G){var F=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(G)?E.merge(F,G):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"}}});E.Path=E.Base.create("path",E.Shape,[E.Drawing],{_type:"shape",_draw:function(){var K=this.get("fill"),J=this.get("stroke"),H=this.get("node"),F=this.get("width"),G=this.get("height"),I=this.get("path");if(I){if(K){I+=" x";}if(J){I+=" e";}}if(I){H.setAttribute("path",I);}if(F&&G){H.setAttribute("coordSize",F+", "+G);H.style.position="absolute";H.style.width=F+"px";H.style.height=G+"px";H.setAttribute("width",F);H.setAttribute("height",G);}this._fillChangeHandler();this._strokeChangeHandler();this.set("path",I);},end:function(){this._draw();}},{ATTRS:{width:{getter:function(){return this._width;},setter:function(F){this._width=F;return F;}},height:{getter:function(){return this._height;},setter:function(F){this._height=F;return F;}},path:{getter:function(){return this._path;},setter:function(F){this._path=F;return F;}}}});E.Rect=E.Base.create("rect",E.Shape,[],{_type:"rect"});E.Ellipse=E.Base.create("ellipse",E.Shape,[],{_type:"oval"},{ATTRS:{xRadius:{lazyAdd:false,getter:function(){var F=this.get("width");F=Math.round((F/2)*100)/100;return F;},setter:function(G){var F=G*2;this.set("width",F);return G;}},yRadius:{lazyAdd:false,getter:function(){var F=this.get("height");F=Math.round((F/2)*100)/100;return F;},setter:function(G){var F=G*2;this.set("height",F);return G;}},cx:{lazyAdd:false,setter:function(G){var F=this.get("node");F.setAttribute("cx",G);return G;}},cy:{lazyAdd:false,setter:function(G){var F=this.get("node");F.setAttribute("cy",G);return G;}}}});E.Circle=E.Base.create("circle",E.Shape,[],{_type:"oval"},{ATTRS:{radius:{lazyAdd:false,value:0,setter:function(H){var G=this.get("node"),F=H*2;G.style.width=F+"px";G.style.height=F+"px";return H;}},width:{readOnly:true,getter:function(){var F=this.get("radius"),G=F&&F>0?F*2:0;return G;}},height:{readOnly:true,getter:function(){var F=this.get("radius"),G=F&&F>0?F*2:0;return G;}},cx:{lazyAdd:false,setter:function(G){var F=this.get("node");F.setAttribute("cx",G);return G;}},cy:{lazyAdd:false,setter:function(G){var F=this.get("node");F.setAttribute("cy",G);return G;}}}});var D=function(F){this.initializer.apply(this,arguments);};D.prototype={initializer:function(G){G=G||{};var F=G.width||0,H=G.height||0;this.node=this._createGraphic();this.setSize(F,H);this._initProps();},clear:function(){this._path="";this._removeChildren(this.node);},destroy:function(){this._removeChildren(this.node);this.node.parentNode.removeChild(this.node);},_removeChildren:function(F){if(F.hasChildNodes()){var G;while(F.firstChild){G=F.firstChild;this._removeChildren(G);F.removeChild(G);}}},toggleVisible:function(F){this._toggleVisible(this.node,F);},_toggleVisible:function(J,K){var I=E.one(J).get("children"),G=K?"visible":"hidden",H=0,F;if(I){F=I.length;for(;H<F;++H){this._toggleVisible(I[H],K);}}J.style.visibility=G;},setSize:function(F,G){F=Math.round(F);G=Math.round(G);this.node.style.width=F+"px";this.node.style.height=G+"px";this.node.coordSize=F+" "+G;this._canvasWidth=F;this._canvasHeight=G;},setPosition:function(F,G){F=Math.round(F);G=Math.round(G);this.node.style.left=F+"px";this.node.style.top=G+"px";},render:function(F){var G=Math.max(F._node.offsetWidth||0,this._canvasWidth),H=Math.max(F._node.offsetHeight||0,this._canvasHeight);F=F||E.config.doc.body;F.appendChild(this.node);this.setSize(G,H);this._initProps();return this;},_trackSize:function(F,G){if(F>this._width){this._width=F;}if(G>this._height){this._height=G;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeOpacity=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;this._dashstyle=null;},_createGraphic:function(){var F=this._createGraphicNode("group");F.style.display="block";F.style.position="absolute";return F;},_createGraphicNode:function(F){return document.createElement("<"+F+' xmlns="urn:schemas-microsft.com:vml" class="vml'+F+'"/>');},addShape:function(F){var G=F.get("node");this.node.appendChild(G);if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(G);},addChild:function(F){this.node.appendChild(F);}};E.Graphic=D;},"@VERSION@",{skinnable:false,requires:["graphics"]});