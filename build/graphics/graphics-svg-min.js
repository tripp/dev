YUI.add("graphics-svg",function(A){var B="_yuid",C="nodeName",G=A.DOM.setStyle,H=A.Node.prototype.addClass,D=A.Node.prototype.toString,I=A.NodeList.prototype.toString;A.DOM.setStyle=function(N,Q,K,J){if((Q=="left"||Q=="top")&&N.tagName.indexOf("svg")>-1){var P=N.tagName.split(":")[1],M,L,S,R,O;if(P=="path"){if(Q=="left"){S=parseInt(K,10);R=N.getAttribute("y");N.setAttribute("x",S);}else{if(Q=="top"){S=N.getAttribute("x");R=parseInt(K,10);N.setAttribute("y",R);}}M="translate("+S+", "+R+")";L=N.getAttribute("transform");if(L&&L.length>0){if(L.indexOf("translate")>-1){L=L.replace(/translate\(.*\)/,M);}else{L+=" "+M;}}else{L=M;}N.setAttribute("transform",L);}else{switch(P){case"rect":O=(Q=="left")?"x":"y";break;case"circle":case"ellipse":O=(Q=="left")?"cx":"cy";break;}N.setAttribute(O,parseInt(K,10));}}G.apply(this,arguments);};A.Node.prototype.addClass=function(J){var K=this._node;if(K.tagName.indexOf("svg")>-1){if(K.className&&K.className.baseVal){K.className.baseVal=A.Lang.trim([K.className.baseVal,J].join(" "));}else{K.setAttribute("class",J);}}else{H.apply(this,arguments);}return this;};A.Node.prototype.toString=function(){var J=this._node,K;if(J&&J.className&&J.className.baseVal){if(typeof J.className.baseVal=="string"){K=J[C]+"."+J.className.baseVal.replace(" ",".");}else{K=this[B]+": not bound to any nodes";}}else{K=D.apply(this,arguments);}return K;};A.NodeList.prototype.toString=function(){var J=this._nodes,K,L;if(J&&J[0]){K=J[0];}if(K&&K.className&&K.className.baseVal){if(typeof K.className.baseVal=="string"){L=K[C];if(K.id){L+="#"+K.id;}L+="."+K.className.baseVal.replace(" ",".");}else{L=this[B]+": not bound to any nodes";}}else{L=I.apply(this,arguments);}return L;};A.NodeList.importMethod(A.Node.prototype,["addClass"]);function E(){}E.prototype={curveTo:function(O,M,T,S,R,Q){var K,P,N,J,L,U;if(this._pathType!=="C"){this._pathType="C";P=["C"];this._pathArray.push(P);}else{P=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!P){P=[];this._pathArray.push(P);}}K=this._pathArray.length-1;this._pathArray[K]=this._pathArray[K].concat([Math.round(O),Math.round(M),Math.round(T),Math.round(S),R,Q]);N=Math.max(R,Math.max(O,T));L=Math.max(Q,Math.max(M,S));J=Math.min(R,Math.min(O,T));U=Math.min(Q,Math.min(M,S));this._trackSize(N,L);this._trackSize(J,U);},quadraticCurveTo:function(O,N,R,Q){var K,P,M,J,L,S;if(this._pathType!=="Q"){this._pathType="Q";P=["Q"];this._pathArray.push(P);}else{P=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!P){P=[];this._pathArray.push(P);}}K=this._pathArray.length-1;this._pathArray[K]=this._pathArray[K].concat([Math.round(O),Math.round(N),Math.round(R),Math.round(Q)]);M=Math.max(R,O);L=Math.max(Q,N);J=Math.min(R,O);S=Math.min(Q,N);this._trackSize(M,L);this._trackSize(J,S);},drawRect:function(J,M,K,L){this.moveTo(J,M);this.lineTo(J+K,M);this.lineTo(J+K,M+L);this.lineTo(J,M+L);this.lineTo(J,M);},drawRoundRect:function(J,O,K,M,L,N){this.moveTo(J,O+N);this.lineTo(J,O+M-N);this.quadraticCurveTo(J,O+M,J+L,O+M);this.lineTo(J+K-L,O+M);this.quadraticCurveTo(J+K,O+M,J+K,O+M-N);this.lineTo(J+K,O+N);this.quadraticCurveTo(J+K,O,J+K-L,O);this.lineTo(J+L,O);this.quadraticCurveTo(J,O,J,O+N);},drawWedge:function(L,O,N,M,K,J){this._drawingComplete=false;this.path=this._getWedgePath({x:L,y:O,startAngle:N,arc:M,radius:K,yRadius:J});},_getWedgePath:function(d){var T=d.x,Q=d.y,Y=d.startAngle,P=d.arc,L=d.radius,M=d.yRadius||L,X,V,O,c,N,U,S,b,a,K,J,Z=0,R=L*2,W=" M"+T+", "+Q;if(Math.abs(P)>360){P=360;}X=Math.ceil(Math.abs(P)/45);V=P/X;O=-(V/180)*Math.PI;c=(Y/180)*Math.PI;if(X>0){U=T+Math.cos(Y/180*Math.PI)*L;S=Q+Math.sin(Y/180*Math.PI)*M;W+=" L"+Math.round(U)+", "+Math.round(S);W+=" Q";for(;Z<X;++Z){c+=O;N=c-(O/2);b=T+Math.cos(c)*L;a=Q+Math.sin(c)*M;K=T+Math.cos(N)*(L/Math.cos(O/2));J=Q+Math.sin(N)*(M/Math.cos(O/2));W+=Math.round(K)+" "+Math.round(J)+" "+Math.round(b)+" "+Math.round(a)+" ";}W+=" L"+T+", "+Q;}this._trackSize(R,R);return W;},lineTo:function(O,N,L){var K=arguments,M,J,Q,P;this._pathArray=this._pathArray||[];if(typeof O==="string"||typeof O==="number"){K=[[O,N]];}J=K.length;this._shapeType="path";if(this._pathType!=="L"){this._pathType="L";P=["L"];this._pathArray.push(P);}else{P=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!P){P=[];this._pathArray.push(P);}}Q=this._pathArray.length-1;for(M=0;M<J;++M){this._pathArray[Q]=this._pathArray[Q].concat([K[M][0],K[M][1]]);this._trackSize.apply(this,K[M]);}},moveTo:function(J,M){var L,K;this._pathArray=this._pathArray||[];if(this._pathType!="M"){this._pathType="M";K=["M"];this._pathArray.push(K);}else{K=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!K){K=[];this._pathArray.push(K);}}L=this._pathArray.length-1;this._pathArray[L]=this._pathArray[L].concat([J,M]);this._trackSize(J,M);},end:function(){this._draw();},setSize:function(J,K){var L;if(this.get("autoSize")){L=this.get("node");if(J>L.getAttribute("width")){L.setAttribute("width",J);}if(K>L.getAttribute("height")){L.setAttribute("height",K);}}},_trackSize:function(J,K){var L=this.get("node");if(J>this._right){this._right=J;}if(J<this._left){this._left=J;}if(K<this._top){this._top=K;}if(K>this._bottom){this._bottom=K;}this._width=this._right-this._left;this._height=this._bottom-this._top;L.style.left=this._left+"px";L.style.top=this._top+"px";this.setSize(this._width,this._height);}};A.Drawing=E;A.Shape=A.Base.create("shape",A.Base,[],{initializer:function(){this._addListeners();this._draw();},_getNode:function(){var K=document.createElementNS("http://www.w3.org/2000/svg","svg:"+this._type),J=this.get("pointerEvents")||"none";K.setAttribute("pointer-events",J);return K;},_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("widthChange",this._updateHandler);this.after("heightChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_strokeChangeHandler:function(P){var L=this.get("node"),Q=this.get("stroke"),R,K,N,M,O,J;if(Q&&Q.weight&&Q.weight>0){R=Q.alpha;
K=Q.dashstyle||"none";N=A.Lang.isArray(K)?K.toString():K;Q.color=Q.color||"#000000";Q.weight=Q.weight||1;Q.alpha=A.Lang.isNumber(R)?R:1;Q.linecap=Q.linecap||"butt";L.setAttribute("stroke-dasharray",N);L.setAttribute("stroke",Q.color);L.setAttribute("stroke-linecap",Q.linecap);L.setAttribute("stroke-width",Q.weight);L.setAttribute("stroke-opacity",Q.alpha);}else{L.setAttribute("stroke","none");}},_fillChangeHandler:function(M){var K=this.get("node"),L=this.get("fill"),J;if(L){if(L.type==="linear"||L.type==="radial"){this.beginGradientFill(L);}else{if(L.type==="bitmap"){this.beginBitmapFill(L);}else{if(!L.color){K.setAttribute("fill","none");}else{J=L.alpha;L.alpha=A.Lang.isNumber(J)?J:1;K.setAttribute("fill",L.color);K.setAttribute("fill-opacity",J);}}}}else{K.setAttribute("fill","none");}},translate:function(J,K){this._translate.apply(this,arguments);},_translate:function(J,N){var L=this.get("node"),M="translate("+J+", "+N+")",K=L.getAttribute("transform");this._updateTransform("translate",/translate\(.*\)/,M);},skewX:function(J){var K="skewX("+J+")";this._updateTransform("skewX",/skewX\(.*\)/,K);},skewY:function(K){var J="skewY("+K+")";this._updateTransform("skewY",/skewY\(.*\)/,J);},rotate:function(K,L){var J="rotate("+K+")";this._updateTransform("rotate",/rotate\(.*\)/,J);},scale:function(K){var J="scale("+K+")";this._updateTransform("scale",/scale\(.*\)/,J);},matrix:function(K,J,P,O,N,M){var L="matrix("+K+", "+J+", "+P+", "+O+", "+N+", "+M+")";this._updateTransform("matrix",/matrix\(.*\)/,L);},_updateTransform:function(K,N,M){var L=this.get("node"),J=L.getAttribute("transform");if(J&&J.length>0){if(J.indexOf(K)>-1){J=J.replace(N,M);}else{J+=" "+M;}}else{J=M;}L.setAttribute("transform",J);},_draw:function(){var J=this.get("node");J.setAttribute("width",this.get("width"));J.setAttribute("height",this.get("height"));J.style.left=this.get("x")+"px";J.style.top=this.get("y")+"px";this._fillChangeHandler();this._strokeChangeHandler();},_updateHandler:function(J){this._draw();},_translateX:0,_translateY:0},{ATTRS:{node:{readOnly:true,valueFn:"_getNode"},x:{},y:{},width:{},height:{},visible:{value:true,setter:function(K){var J=K?"visible":"hidden";this.get("node").style.visibility=J;return K;}},fill:{setter:function(K){var J=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(K)?A.merge(J,K):null;}},stroke:{valueFn:function(){return{weight:1,dashstyle:null,color:"#000",alpha:1};},setter:function(K){var J=this.get("stroke")||this._getAttrCfg("stroke").defaultValue;return(K)?A.merge(J,K):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},translateX:{getter:function(){return this._translateX;},setter:function(J){this.transform(J,this.get("translateY"));return J;}},translateY:{getter:function(){return this._translateY;},setter:function(J){this.transform(this.get("translateX"),J);return J;}}}});A.Path=A.Base.create("path",A.Shape,[A.Drawing],{_left:0,_right:0,_top:0,_bottom:0,_type:"path",_draw:function(){var K=this._pathArray,O,J,R,L,Q,P,T="",N=this.get("node"),M=this._left+this.get("translateX"),S=this._top+this._translateY;while(K&&K.length>0){O=K.shift();R=O.length;J=O[0];T+=" "+J+(O[1]-M);switch(J){case"L":case"M":for(P=2;P<R;++P){L=(P%2===0)?S:M;L=O[P]-L;T+=", "+L;}break;case"Q":case"C":for(P=2;P<R;++P){L=(P%2===0)?S:M;Q=O[P];Q-=L;T+=" "+Q;}break;}}if(this._fill){T+="z";}N.setAttribute("d",T);this._translate(M,S);this.set("path",T);this._fillChangeHandler();this._strokeChangeHandler();},translate:function(J,L){var K=this.get("node");this._translateX=J;this._translateY=L;this._translate(this._left+J,this._top+L);},end:function(){this._draw();}},{ATTRS:{path:{}}});A.Rect=A.Base.create("rect",A.Shape,[],{_type:"rect"});A.Ellipse=A.Base.create("ellipse",A.Shape,[],{_type:"ellipse",_draw:function(){var J=this.get("node"),R=this.get("width"),M=this.get("height"),Q=this.get("x"),O=this.get("y"),P=R*0.5,N=M*0.5,L=Q+P,K=O+N;J.setAttribute("rx",P);J.setAttribute("ry",N);J.setAttribute("cx",L);J.setAttribute("cy",K);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{xRadius:{readOnly:true,getter:function(){var J=this.get("width");if(J){J*=0.5;}return J;}},yRadius:{readOnly:true,getter:function(){var J=this.get("height");if(J){J*=0.5;}return J;}},x:{lazyAdd:false,value:0},y:{lazyAdd:false}}});A.Circle=A.Base.create("circle",A.Shape,[],{_type:"circle",_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("radiusChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_draw:function(){var M=this.get("node"),L=this.get("x"),O=this.get("y"),K=this.get("radius"),J=L+K,N=O+K;M.setAttribute("r",K);M.setAttribute("cx",J);M.setAttribute("cy",N);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{width:{readOnly:true,getter:function(){return this.get("radius")*2;}},height:{readOnly:true,getter:function(){return this.get("radius")*2;}},radius:{lazyAdd:false,setter:function(K){var J=this.get("node");J.setAttribute("r",K);return K;}}}});function F(J){this.initializer.apply(this,arguments);}F.prototype={autoSize:true,initializer:function(K){K=K||{};var J=K.width||0,L=K.height||0;this.node=this._createGraphics();this.setSize(J,L);if(K.render){this.render(K.render);}},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(J){if(J.hasChildNodes()){var K;while(J.firstChild){K=J.firstChild;this._removeChildren(K);J.removeChild(K);}}},toggleVisible:function(J){this._toggleVisible(this.node,J);},_toggleVisible:function(N,O){var M=A.Selector.query(">/*",N),K=O?"visible":"hidden",L=0,J;if(M){J=M.length;for(;L<J;++L){this._toggleVisible(M[L],O);}}N.style.visibility=K;},clear:function(){if(this._graphicsList){while(this._graphicsList.length>0){this.node.removeChild(this._graphicsList.shift());}}},setSize:function(J,K){if(this.autoSize){if(J>this.node.getAttribute("width")){this.node.setAttribute("width",J);
}if(K>this.node.getAttribute("height")){this.node.setAttribute("height",K);}}},_trackSize:function(J,K){if(J>this._right){this._right=J;}if(J<this._left){this._left=J;}if(K<this._top){this._top=K;}if(K>this._bottom){this._bottom=K;}this._width=this._right-this._left;this._height=this._bottom-this._top;this.node.style.left=this._left+"px";this.node.style.top=this._top+"px";this.setSize(this._width,this._height);},render:function(M){var J=A.one(M),K=J.get("width")||J.get("offsetWidth"),L=J.get("height")||J.get("offsetHeight");J=J||A.config.doc.body;J.appendChild(this.node);this.setSize(K,L);return this;},_createGraphics:function(){var J=this._createGraphicNode("svg");this._styleGroup(J);return J;},_styleGroup:function(J){J.style.position="absolute";J.style.top="0px";J.style.left="0px";J.style.overflow="auto";J.setAttribute("overflow","auto");J.setAttribute("pointer-events","none");},_createGraphicNode:function(L,J){var M=document.createElementNS("http://www.w3.org/2000/svg","svg:"+L),K=J||"none";if(L!=="defs"&&L!=="stop"&&L!=="linearGradient"){M.setAttribute("pointer-events",K);}return M;},addShape:function(J){var K=J.get("node");this.node.appendChild(K);if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(K);}};A.Graphic=F;},"@VERSION@",{requires:["graphics"],skinnable:false});