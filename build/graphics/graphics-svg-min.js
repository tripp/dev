YUI.add("graphics-svg",function(A){var B="_yuid",D="nodeName",H=A.DOM.setStyle,I=A.Node.prototype.addClass,E=A.Node.prototype.toString,J=A.NodeList.prototype.toString;A.DOM.setStyle=function(O,R,L,K){if((R=="left"||R=="top")&&O.tagName.indexOf("svg")>-1){var Q=O.tagName.split(":")[1],N,M,T,S,P;if(Q=="path"){if(R=="left"){T=parseInt(L,10);S=O.getAttribute("y");O.setAttribute("x",T);}else{if(R=="top"){T=O.getAttribute("x");S=parseInt(L,10);O.setAttribute("y",S);}}N="translate("+T+", "+S+")";M=O.getAttribute("transform");if(M&&M.length>0){if(M.indexOf("translate")>-1){M=M.replace(/translate\(.*\)/,N);}else{M+=" "+N;}}else{M=N;}O.setAttribute("transform",M);}else{switch(Q){case"rect":P=(R=="left")?"x":"y";break;case"circle":case"ellipse":P=(R=="left")?"cx":"cy";break;}O.setAttribute(P,parseInt(L,10));}}H.apply(this,arguments);};A.Node.prototype.addClass=function(K){var L=this._node;if(L.tagName.indexOf("svg")>-1){if(L.className&&L.className.baseVal){L.className.baseVal=A.Lang.trim([L.className.baseVal,K].join(" "));}else{L.setAttribute("class",K);}}else{I.apply(this,arguments);}return this;};A.Node.prototype.toString=function(){var K=this._node,L;if(K&&K.className&&K.className.baseVal){if(typeof K.className.baseVal=="string"){L=K[D]+"."+K.className.baseVal.replace(" ",".");}else{L=this[B]+": not bound to any nodes";}}else{L=E.apply(this,arguments);}return L;};A.NodeList.prototype.toString=function(){var K=this._nodes,L,M;if(K&&K[0]){L=K[0];}if(L&&L.className&&L.className.baseVal){if(typeof L.className.baseVal=="string"){M=L[D];if(L.id){M+="#"+L.id;}M+="."+L.className.baseVal.replace(" ",".");}else{M=this[B]+": not bound to any nodes";}}else{M=J.apply(this,arguments);}return M;};A.NodeList.importMethod(A.Node.prototype,["addClass"]);function F(){}F.prototype={curveTo:function(P,N,U,T,S,R){var L,Q,O,K,M,V;if(this._pathType!=="C"){this._pathType="C";Q=["C"];this._pathArray.push(Q);}else{Q=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!Q){Q=[];this._pathArray.push(Q);}}L=this._pathArray.length-1;this._pathArray[L]=this._pathArray[L].concat([Math.round(P),Math.round(N),Math.round(U),Math.round(T),S,R]);O=Math.max(S,Math.max(P,U));M=Math.max(R,Math.max(N,T));K=Math.min(S,Math.min(P,U));V=Math.min(R,Math.min(N,T));this._trackSize(O,M);this._trackSize(K,V);},quadraticCurveTo:function(P,O,S,R){var L,Q,N,K,M,T;if(this._pathType!=="Q"){this._pathType="Q";Q=["Q"];this._pathArray.push(Q);}else{Q=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!Q){Q=[];this._pathArray.push(Q);}}L=this._pathArray.length-1;this._pathArray[L]=this._pathArray[L].concat([Math.round(P),Math.round(O),Math.round(S),Math.round(R)]);N=Math.max(S,P);M=Math.max(R,O);K=Math.min(S,P);T=Math.min(R,O);this._trackSize(N,M);this._trackSize(K,T);},drawRect:function(K,N,L,M){this.moveTo(K,N);this.lineTo(K+L,N);this.lineTo(K+L,N+M);this.lineTo(K,N+M);this.lineTo(K,N);},drawRoundRect:function(K,P,L,N,M,O){this.moveTo(K,P+O);this.lineTo(K,P+N-O);this.quadraticCurveTo(K,P+N,K+M,P+N);this.lineTo(K+L-M,P+N);this.quadraticCurveTo(K+L,P+N,K+L,P+N-O);this.lineTo(K+L,P+O);this.quadraticCurveTo(K+L,P,K+L-M,P);this.lineTo(K+M,P);this.quadraticCurveTo(K,P,K,P+O);},drawWedge:function(M,Q,O,N,L,K){var P=L*2;this._drawingComplete=false;this.path=this._getWedgePath({x:M,y:Q,startAngle:O,arc:N,radius:L,yRadius:K});this._trackSize(P,P);},_getWedgePath:function(d){var T=d.x,R=d.y,Y=d.startAngle,Q=d.arc,M=d.radius,N=d.yRadius||M,X,V,P,c,O,U,S,b,a,L,K,Z=0,W=" M"+T+", "+R;if(Math.abs(Q)>360){Q=360;}X=Math.ceil(Math.abs(Q)/45);V=Q/X;P=-(V/180)*Math.PI;c=(Y/180)*Math.PI;if(X>0){U=T+Math.cos(Y/180*Math.PI)*M;S=R+Math.sin(Y/180*Math.PI)*N;W+=" L"+Math.round(U)+", "+Math.round(S);W+=" Q";for(;Z<X;++Z){c+=P;O=c-(P/2);b=T+Math.cos(c)*M;a=R+Math.sin(c)*N;L=T+Math.cos(O)*(M/Math.cos(P/2));K=R+Math.sin(O)*(N/Math.cos(P/2));W+=Math.round(L)+" "+Math.round(K)+" "+Math.round(b)+" "+Math.round(a)+" ";}W+=" L"+T+", "+R;}return W;},lineTo:function(P,O,M){var L=arguments,N,K,R,Q;if(typeof P==="string"||typeof P==="number"){L=[[P,O]];}K=L.length;this._shapeType="path";if(this._pathType!=="L"){this._pathType="L";Q=["L"];this._pathArray.push(Q);}else{Q=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!Q){Q=[];this._pathArray.push(Q);}}R=this._pathArray.length-1;for(N=0;N<K;++N){this._pathArray[R]=this._pathArray[R].concat([L[N][0],L[N][1]]);this._trackSize.apply(this,L[N]);}},moveTo:function(K,N){var M,L;this._pathArray=this._pathArray||[];if(this._pathType!="M"){this._pathType="M";L=["M"];this._pathArray.push(L);}else{L=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!L){L=[];this._pathArray.push(L);}}M=this._pathArray.length-1;this._pathArray[M]=this._pathArray[M].concat([K,N]);this._trackSize(K,N);},end:function(){this._draw();},setSize:function(K,L){var M;if(this.get("autoSize")){M=this.get("node");if(K>M.getAttribute("width")){M.setAttribute("width",K);}if(L>M.getAttribute("height")){M.setAttribute("height",L);}}},_trackSize:function(K,L){var M=this.get("node");if(K>this._right){this._right=K;}if(K<this._left){this._left=K;}if(L<this._top){this._top=L;}if(L>this._bottom){this._bottom=L;}this._width=this._right-this._left;this._height=this._bottom-this._top;M.style.left=this._left+"px";M.style.top=this._top+"px";this.setSize(this._width,this._height);}};A.Drawing=F;function C(){}C.prototype={beginGradientFill:function(L){var K=L.alphas||[];if(!this._defs){this._defs=this._createGraphicNode("defs");this.node.appendChild(this._defs);}this._fillAlphas=K;this._fillColors=L.colors;this._fillType=L.type||"linear";this._fillRatios=L.ratios||[];this._fillRotation=L.rotation||0;this._fillWidth=L.width||null;this._fillHeight=L.height||null;this._fillX=!isNaN(L.tx)?L.tx:NaN;this._fillY=!isNaN(L.ty)?L.ty:NaN;this._gradientId="lg"+Math.round(100000*Math.random());return this;},_getLinearGradient:function(P){var d=this._createGraphicNode("linearGradient"),O="_"+P,U=this[O+"Colors"],X=this[O+"Ratios"],S=this[O+"Alphas"],V=this._fillWidth||(this._shape.w),g=this._fillHeight||(this._shape.h),Z=this[O+"Rotation"],e,b,c,T,Q,W,a,j,f,N,L,M=V/2,K=g/2,R,Y;
R=Math.PI/180;Y=parseFloat(parseFloat(Math.tan(Z*R)).toFixed(8));if(Math.abs(Y)*V/2>=g/2){if(Z<180){N=0;L=g;}else{N=g;L=0;}j=M-((K-N)/Y);f=M-((K-L)/Y);}else{if(Z>90&&Z<270){j=V;f=0;}else{j=0;f=V;}N=((Y*(M-j))-K)*-1;L=((Y*(M-f))-K)*-1;}d.setAttribute("gradientTransform","rotate("+Z+")");d.setAttribute("width",V);d.setAttribute("height",g);d.setAttribute("gradientUnits","userSpaceOnUse");b=U.length;W=0;for(e=0;e<b;++e){Q=S[e];c=U[e];T=X[e]||e/(b-1);T=Math.round(T*100)+"%";Q=A.Lang.isNumber(Q)?Q:"1";W=(e+1)/b;a=this._createGraphicNode("stop");a.setAttribute("offset",T);a.setAttribute("stop-color",c);a.setAttribute("stop-opacity",Q);d.appendChild(a);}return d;}};A.Fill=C;A.Shape=A.Base.create("shape",A.Base,[A.Fill],{initializer:function(){this._addListeners();this._draw();},_getNode:function(){var L=document.createElementNS("http://www.w3.org/2000/svg","svg:"+this._type),K=this.get("pointerEvents")||"none";L.setAttribute("pointer-events",K);return L;},_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("widthChange",this._updateHandler);this.after("heightChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_strokeChangeHandler:function(O){var M=this.get("node"),N=this.get("stroke"),L,K;if(N&&N.weight&&N.weight>0){L=N.alpha;K=N.dashstyle||"none";N.color=N.color||"#000000";N.weight=N.weight||1;N.alpha=A.Lang.isNumber(L)?L:1;N.linecap=N.linecap||"square";M.setAttribute("stroke-dasharray",K);M.setAttribute("stroke",N.color);M.setAttribute("stroke-linecap",N.linecap);M.setAttribute("stroke-width",N.weight);M.setAttribute("stroke-opacity",N.alpha);}else{M.setAttribute("stroke","none");}},_fillChangeHandler:function(N){var L=this.get("node"),M=this.get("fill"),K;if(M){if(M.type==="linear"||M.type==="radial"){this.beginGradientFill(M);}else{if(M.type==="bitmap"){this.beginBitmapFill(M);}else{if(!M.color){L.setAttribute("fill","none");}else{K=M.alpha;M.alpha=A.Lang.isNumber(K)?K:1;L.setAttribute("fill",M.color);L.setAttribute("fill-opacity",K);}}}}else{L.setAttribute("fill","none");}},translate:function(K,O){var M=this.get("node"),N="translate("+K+", "+O+")",L=M.getAttribute("transform");if(L&&L.length>0){if(L.indexOf("translate")>-1){L=L.replace(/translate\(.*\)/,N);}else{L+=" "+N;}}else{L=N;}M.setAttribute("transform",L);},skewX:function(K){var L="skewX("+K+")";this._updateTransform("skewX",/skewX\(.*\)/,L);},skewY:function(L){var K="skewY("+L+")";this._updateTransform("skewY",/skewY\(.*\)/,K);},rotate:function(L,M){var K="rotate("+L+")";this._updateTransform("rotate",/rotate\(.*\)/,K);},scale:function(L){var K="scale("+L+")";this._updateTransform("scale",/scale\(.*\)/,K);},matrix:function(L,K,Q,P,O,N){var M="matrix("+L+", "+K+", "+Q+", "+P+", "+O+", "+N+")";this._updateTransform("matrix",/matrix\(.*\)/,M);},_updateTransform:function(L,O,N){var M=this.get("node"),K=M.getAttribute("transform");if(K&&K.length>0){if(K.indexOf(L)>-1){K=K.replace(O,N);}else{K+=" "+N;}}else{K=N;}M.setAttribute("transform",K);},_draw:function(){var K=this.get("node");K.setAttribute("width",this.get("width"));K.setAttribute("height",this.get("height"));this._fillChangeHandler();this._strokeChangeHandler();},_updateHandler:function(K){this._draw();}},{ATTRS:{node:{readOnly:true,valueFn:"_getNode"},x:{},y:{},width:{},height:{},visible:{value:true,setter:function(L){var K=L?"visible":"hidden";this.get("node").style.visibility=K;return L;}},fill:{setter:function(L){var K=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(L)?A.merge(K,L):null;}},stroke:{valueFn:function(){return{weight:1,dashstyle:null,color:"#000",alpha:1};},setter:function(L){var K=this.get("stroke")||this._getAttrCfg("stroke").defaultValue;return(L)?A.merge(K,L):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"}}});A.Path=A.Base.create("path",A.Shape,[A.Drawing],{_left:0,_right:0,_top:0,_bottom:0,_type:"path",_draw:function(){var L=this._pathArray,O,K,R,M,Q,P,S="",N=this.get("node");while(L&&L.length>0){O=L.shift();R=O.length;K=O[0];S+=" "+K+(O[1]-this._left);switch(K){case"L":case"M":for(P=2;P<R;++P){M=(P%2===0)?this._top:this._left;M=O[P]-M;S+=", "+M;}break;case"Q":case"C":for(P=2;P<R;++P){M=(P%2===0)?this._top:this._left;Q=O[P];Q-=M;S+=" "+Q;}break;}}if(this._fill){S+="z";}N.setAttribute("d",S);N.setAttribute("transform","translate("+this._left+", "+this._top+")");this.set("path",S);this._fillChangeHandler();this._strokeChangeHandler();},_updateHandler:function(){var K=this.get("x"),L=this.get("y");K+=this._xTranslate;L+=this._yTranslate;},_xTranslate:0,_yTranslate:0,end:function(){this._draw();}},{ATTRS:{path:{}}});A.Rect=A.Base.create("rect",A.Shape,[],{_type:"rect"});A.Ellipse=A.Base.create("ellipse",A.Shape,[],{_type:"ellipse",_draw:function(){var K=this.get("node"),S=this.get("width"),N=this.get("height"),R=this.get("x"),P=this.get("y"),Q=S*0.5,O=N*0.5,M=R+Q,L=P+O;K.setAttribute("rx",Q);K.setAttribute("ry",O);K.setAttribute("cx",M);K.setAttribute("cy",L);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{xRadius:{readOnly:true,getter:function(){var K=this.get("width");if(K){K*=0.5;}return K;}},yRadius:{readOnly:true,getter:function(){var K=this.get("height");if(K){K*=0.5;}return K;}},x:{lazyAdd:false,value:0},y:{lazyAdd:false}}});A.Circle=A.Base.create("circle",A.Shape,[],{_type:"circle",_addListeners:function(){this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("radiusChange",this._updateHandler);this.after("x",this._updateHandler);this.after("y",this._updateHandler);},_draw:function(){var N=this.get("node"),M=this.get("x"),P=this.get("y"),L=this.get("radius"),K=M+L,O=P+L;N.setAttribute("r",L);N.setAttribute("cx",K);N.setAttribute("cy",O);this._fillChangeHandler();this._strokeChangeHandler();}},{ATTRS:{width:{readOnly:true,getter:function(){return this.get("radius")*2;}},height:{readOnly:true,getter:function(){return this.get("radius")*2;
}},radius:{lazyAdd:false,setter:function(L){var K=this.get("node");K.setAttribute("r",L);return L;}}}});function G(K){this.initializer.apply(this,arguments);}G.prototype={autoSize:true,initializer:function(L){L=L||{};var K=L.width||0,M=L.height||0;this.node=this._createGraphics();this.setSize(K,M);if(L.render){this.render(L.render);}},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(K){if(K.hasChildNodes()){var L;while(K.firstChild){L=K.firstChild;this._removeChildren(L);K.removeChild(L);}}},toggleVisible:function(K){this._toggleVisible(this.node,K);},_toggleVisible:function(O,P){var N=A.Selector.query(">/*",O),L=P?"visible":"hidden",M=0,K;if(N){K=N.length;for(;M<K;++M){this._toggleVisible(N[M],P);}}O.style.visibility=L;},clear:function(){if(this._graphicsList){while(this._graphicsList.length>0){this.node.removeChild(this._graphicsList.shift());}}},setSize:function(K,L){if(this.autoSize){if(K>this.node.getAttribute("width")){this.node.setAttribute("width",K);}if(L>this.node.getAttribute("height")){this.node.setAttribute("height",L);}}},_trackSize:function(K,L){if(K>this._right){this._right=K;}if(K<this._left){this._left=K;}if(L<this._top){this._top=L;}if(L>this._bottom){this._bottom=L;}this._width=this._right-this._left;this._height=this._bottom-this._top;this.node.style.left=this._left+"px";this.node.style.top=this._top+"px";this.setSize(this._width,this._height);},render:function(N){var K=A.one(N),L=K.get("width")||K.get("offsetWidth"),M=K.get("height")||K.get("offsetHeight");K=K||A.config.doc.body;K.appendChild(this.node);this.setSize(L,M);return this;},_createGraphics:function(){var K=this._createGraphicNode("svg");this._styleGroup(K);return K;},_styleGroup:function(K){K.style.position="absolute";K.style.top="0px";K.style.left="0px";K.style.overflow="auto";K.setAttribute("overflow","auto");K.setAttribute("pointer-events","none");},_createGraphicNode:function(M,K){var N=document.createElementNS("http://www.w3.org/2000/svg","svg:"+M),L=K||"none";if(M!=="defs"&&M!=="stop"&&M!=="linearGradient"){N.setAttribute("pointer-events",L);}return N;},addShape:function(K){var L=K.get("node");this.node.appendChild(L);if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(L);}};A.Graphic=G;},"@VERSION@",{skinnable:false,requires:["graphics"]});