YUI.add("graphics-vml",function(e){var b=document.createStyleSheet();b.addRule(".vmlgroup","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlgroup","display:inline-block",b.rules.length);b.addRule(".vmlgroup","zoom:1",b.rules.length);b.addRule(".vmlshape","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlshape","display:inline-block",b.rules.length);b.addRule(".vmloval","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmloval","display:inline-block",b.rules.length);b.addRule(".vmlrect","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlrect","display:block",b.rules.length);b.addRule(".vmlfill","behavior:url(#default#VML)",b.rules.length);b.addRule(".vmlstroke","behavior:url(#default#VML)",b.rules.length);function a(){}a.prototype={curveTo:function(h,g,j,i,f,k){this._path+=" c "+Math.round(h)+", "+Math.round(g)+", "+Math.round(j)+", "+Math.round(i)+", "+f+", "+k;this._trackSize(f,k);},quadraticCurveTo:function(j,i,f,m){var h=Math.max(f,j),g=Math.max(m,i),l=Math.min(f,j),k=Math.min(m,i);this._path+=" qb "+j+", "+i+", "+f+", "+m;this._trackSize(h,g);this._trackSize(l,k);},drawRect:function(f,j,g,i){this.moveTo(f,j);this.lineTo(f+g,j);this.lineTo(f+g,j+i);this.lineTo(f,j+i);this.lineTo(f,j);},drawRoundRect:function(f,l,g,j,i,k){this.moveTo(f,l+k);this.lineTo(f,l+j-k);this.quadraticCurveTo(f,l+j,f+i,l+j);this.lineTo(f+g-i,l+j);this.quadraticCurveTo(f+g,l+j,f+g,l+j-k);this.lineTo(f+g,l+k);this.quadraticCurveTo(f+g,l,f+g-i,l);this.lineTo(f+i,l);this.quadraticCurveTo(f,l,f,l+k);},drawWedge:function(h,l,j,i,g,f){var k=g*2;f=f||g;this._path+=this._getWedgePath({x:h,y:l,startAngle:j,arc:i,radius:g,yRadius:f});this._trackSize(k,k);},_getWedgePath:function(i){var h=i.x,m=i.y,k=i.startAngle,j=i.arc,g=i.radius,f=i.yRadius||g,l;if(Math.abs(j)>360){j=360;}k*=-65535;j*=65536;l=" m "+h+" "+m+" ae "+h+" "+m+" "+g+" "+f+" "+k+" "+j;return l;},end:function(){this._draw();},lineTo:function(l,k,h){var g=arguments,j,f;if(typeof l==="string"||typeof l==="number"){g=[[l,k]];}f=g.length;if(!this._path){this._path="";}this._path+=" l ";for(j=0;j<f;++j){this._path+=" "+Math.round(g[j][0])+", "+Math.round(g[j][1]);this._trackSize.apply(this,g[j]);}var m=this._path;return this;},moveTo:function(f,g){if(!this._path){this._path="";}this._path+=" m "+Math.round(f)+", "+Math.round(g);this._trackSize(f,g);},_trackSize:function(f,i){var j=this._width||0,g=this._height||0;if(f>j){this._width=f;}if(i>g){this._height=i;}}};e.Drawing=a;function c(){}c.prototype={beginGradientFill:function(h){var n=h.type,f=h.colors,g=h.alphas||[],l=h.ratios||[],q={colors:f,ratios:l},m=g.length,k=0,j,o,p=h.rotation||0;for(;k<m;++k){j=g[k];j=e.Lang.isNumber(j)?j:1;o=k>0?k+1:"";g[k]=Math.round(j*100)+"%";q["opacity"+o]=j;}if(n==="linear"){if(h){}if(p>0&&p<=90){p=450-p;}else{if(p<=270){p=270-p;}else{if(p<=360){p=630-p;}else{p=270;}}}q.type="gradientunscaled";q.angle=p;}else{if(n==="radial"){q.alignshape=false;q.type="gradientradial";q.focus="100%";q.focusposition="50%,50%";}}q.ratios=l||[];if(!isNaN(h.tx)||!isNaN(h.ty)||!isNaN(h.width)||!isNaN(h.height)){this._gradientBox={tx:h.tx,ty:h.ty,width:h.width,height:h.height};}else{this._gradientBox=null;}this._fillProps=q;},_getFill:function(){var u=this._createGraphicNode("fill"),s=this._width,n=this._height,o=this._fillProps,g,t,l=0,f,r="",p,m,q=Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),k=50,j=50;if(this._gradientBox){k=Math.round((this._gradientBox.width/2-((this._x-this._gradientBox.tx)*q/s))/(s*s/q)*100);j=Math.round((this._gradientBox.height/2-((this._y-this._gradientBox.ty)*q/n))/(n*n/q)*100);o.focussize=(this._gradientBox.width/s)/10+" "+(this._gradientBox.height/n)/10;}if(o.colors){f=o.colors.concat();m=o.ratios.concat();p=f.length;for(;l<p;++l){t=m[l]||l/(p-1);t=Math.round(100*t)+"%";r+=", "+t+" "+f[l];}if(parseInt(t,10)<100){r+=", 100% "+f[p-1];}}for(g in o){if(o.hasOwnProperty(g)){u.setAttribute(g,o[g]);}}u.colors=r.substr(2);if(o.type==="gradientradial"){u.focusposition=k+"%,"+j+"%";}return u;}};e.Fill=c;e.Shape=e.Base.create("shape",e.Base,[e.Fill],{initializer:function(){this._addListeners();this._draw();},_getNode:function(){var f=this._createGraphicNode();return f;},_addListeners:function(){this.after("strokeChange",this._strokeChangeHandler);this.after("fillChange",this._fillChangeHandler);},_strokeChangeHandler:function(n){var h=this.get("node"),o=this.get("stroke"),p,g,l="",f,j,k=0,m;if(o&&o.weight&&o.weight>0){p=o.alpha;g=o.dashstyle||"none";j=o.endcap||"flat";o.color=o.color||"#000000";o.weight=o.weight||1;o.alpha=e.Lang.isNumber(p)?p:1;h.stroked=true;h.endcap=j;h.strokeColor=o.color;h.strokeWeight=o.weight+"px";if(o.alpha<1||(g&&g!="none")){if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");h.appendChild(this._strokeNode);}this._strokeNode.opacity=o.alpha;if(e.Lang.isArray(g)){l=[];m=g.length;for(k=0;k<m;++k){f=g[k];l[k]=f/o.weight;}}this._strokeNode.dashstyle=l;}}else{h.stroked=false;}},_fillChangeHandler:function(j){var h=this.get("node"),i=this.get("fill"),f,g;if(i){if(i.type==="linear"||i.type==="radial"){this.beginGradientFill(i);}else{if(i.type==="bitmap"){this.beginBitmapFill(i);}else{g=i.alpha;if(!i.color){h.filled=false;}else{if(e.Lang.isNumber(g)){g=Math.max(Math.min(g,1),0);if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");h.appendChild(this._fillNode);}i.alpha=g;this._fillNode.opacity=g;this._fillNode.color=i.color;}else{if(this._fillNode){h.removeChild(this._fillNode);this._fillNode=null;}h.fillColor=i.color;}}}}}else{h.filled=false;}},translate:function(f,l){var k=this.get("node"),i=this.get("width"),j=this.get("height"),g=k.coordSize;f=0-(g.x/i*f);l=0-(g.y/j*l);k.coordOrigin=f+","+l;},skewX:function(f){},skewY:function(f){},rotate:function(g,h){var f=this.get("node");f.style.rotation=g;},scale:function(f){},matrix:function(h,g,l,k,j,i){},_draw:function(){var j=this.get("node"),f=this.get("x"),k=this.get("y"),g=this.get("width"),i=this.get("height");j.style.position="absolute";j.style.left=f+"px";j.style.top=k+"px";
j.style.width=g+"px";j.style.height=i+"px";this._fillChangeHandler();this._strokeChangeHandler();},_createGraphicNode:function(f){f=f||this._type;return document.createElement("<"+f+' xmlns="urn:schemas-microsft.com:vml" class="vml'+f+'"/>');}},{ATTRS:{x:{value:0,setter:function(g){var f=this.get("node");f.style.left=g+"px";return g;}},y:{value:0,setter:function(g){var f=this.get("node");f.style.top=g+"px";return g;}},node:{readOnly:true,valueFn:"_getNode"},width:{value:0,setter:function(g){var f=this.get("node");f.setAttribute("width",g);f.style.width=g+"px";return g;}},height:{value:0,setter:function(g){var f=this.get("node");f.setAttribute("height",g);f.style.height=g+"px";return g;}},visible:{value:true,setter:function(g){var f=g?"visible":"hidden";this.get("node").style.visibility=f;return g;}},fill:{setter:function(g){var f=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(g)?e.merge(f,g):null;}},stroke:{valueFn:function(){return{weight:1,dashstyle:"none",color:"#000",alpha:1};},setter:function(g){var f=this.get("fill")||this._getAttrCfg("fill").defaultValue;return(g)?e.merge(f,g):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"}}});e.Path=e.Base.create("path",e.Shape,[e.Drawing],{_type:"shape",_draw:function(){var l=this.get("fill"),k=this.get("stroke"),i=this.get("node"),f=this.get("width"),g=this.get("height"),j=this.get("path");this._fillChangeHandler();this._strokeChangeHandler();if(j){if(l&&l.color){j+=" x";}if(k){j+=" e";}}if(j){i.path=j;}if(f&&g){i.coordSize=f+", "+g;i.style.position="absolute";i.style.width=f+"px";i.style.height=g+"px";}this.set("path",j);},end:function(){this._draw();},clear:function(){this.set("path","");}},{ATTRS:{width:{getter:function(){return this._width;},setter:function(f){this._width=f;return f;}},height:{getter:function(){return this._height;},setter:function(f){this._height=f;return f;}},path:{getter:function(){return this._path;},setter:function(f){this._path=f;return f;}}}});e.Rect=e.Base.create("rect",e.Shape,[],{_type:"rect"});e.Ellipse=e.Base.create("ellipse",e.Shape,[],{_type:"oval"},{ATTRS:{xRadius:{lazyAdd:false,getter:function(){var f=this.get("width");f=Math.round((f/2)*100)/100;return f;},setter:function(g){var f=g*2;this.set("width",f);return g;}},yRadius:{lazyAdd:false,getter:function(){var f=this.get("height");f=Math.round((f/2)*100)/100;return f;},setter:function(g){var f=g*2;this.set("height",f);return g;}}}});e.Circle=e.Base.create("circle",e.Shape,[],{_type:"oval"},{ATTRS:{radius:{lazyAdd:false,value:0,setter:function(h){var g=this.get("node"),f=h*2;g.style.width=f+"px";g.style.height=f+"px";return h;}},width:{readOnly:true,getter:function(){var f=this.get("radius"),g=f&&f>0?f*2:0;return g;}},height:{readOnly:true,getter:function(){var f=this.get("radius"),g=f&&f>0?f*2:0;return g;}}}});var d=function(f){this.initializer.apply(this,arguments);};d.prototype={initializer:function(g){g=g||{};var f=g.width||0,i=g.height||0;this.node=this._createGraphic();this.setSize(f,i);this._initProps();},clear:function(){this._path="";this._removeChildren(this.node);},destroy:function(){this._removeChildren(this.node);this.node.parentNode.removeChild(this.node);},_removeChildren:function(f){if(f.hasChildNodes()){var g;while(f.firstChild){g=f.firstChild;this._removeChildren(g);f.removeChild(g);}}},toggleVisible:function(f){this._toggleVisible(this.node,f);},_toggleVisible:function(k,l){var j=e.one(k).get("children"),g=l?"visible":"hidden",h=0,f;if(j){f=j.length;for(;h<f;++h){this._toggleVisible(j[h],l);}}k.style.visibility=g;},setSize:function(f,g){f=Math.round(f);g=Math.round(g);this.node.style.width=f+"px";this.node.style.height=g+"px";this.node.coordSize=f+" "+g;this._canvasWidth=f;this._canvasHeight=g;},setPosition:function(f,g){f=Math.round(f);g=Math.round(g);this.node.style.left=f+"px";this.node.style.top=g+"px";},render:function(f){var g=parseInt(f.getComputedStyle("width"),10),i=parseInt(f.getComputedStyle("height"),10);f=f||e.config.doc.body;f.appendChild(this.node);this.setSize(g,i);this._initProps();return this;},_trackSize:function(f,g){if(f>this._width){this._width=f;}if(g>this._height){this._height=g;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeOpacity=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;this._dashstyle=null;},_createGraphic:function(){var f=this._createGraphicNode("group");f.style.display="block";f.style.position="absolute";return f;},_createGraphicNode:function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsft.com:vml" class="vml'+f+'"/>');},addShape:function(f){var g=f.get("node");this.node.appendChild(g);if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(g);},addChild:function(f){this.node.appendChild(f);}};e.Graphic=d;},"@VERSION@",{skinnable:false,requires:["graphics"]});